apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "vocal-remover.fullname" . }}-config
  labels:
    {{- include "vocal-remover.labels" . | nindent 4 }}
data:
  APP_NAME: {{ .Values.app.name | quote }}
  DEBUG: {{ .Values.app.debug | quote }}
  REDIS_URL: {{ include "vocal-remover.redisUrl" . | quote }}
  MINIO_ENDPOINT: {{ include "vocal-remover.minioEndpoint" . | quote }}
  MINIO_BUCKET: "vocal-remover"
  MINIO_SECURE: "false"
  MAX_UPLOAD_SIZE: {{ printf "%.0f" .Values.processing.maxUploadSize | quote }}
  MAX_VIDEO_DURATION: {{ printf "%.0f" .Values.processing.maxVideoDuration | quote }}
  RATE_LIMIT_REQUESTS: {{ printf "%.0f" .Values.processing.rateLimitRequests | quote }}
  RATE_LIMIT_WINDOW: {{ printf "%.0f" .Values.processing.rateLimitWindow | quote }}
  RESULT_EXPIRY_HOURS: {{ printf "%.0f" .Values.processing.resultExpiryHours | quote }}
  JOB_TIMEOUT_MINUTES: {{ printf "%.0f" .Values.processing.jobTimeoutMinutes | quote }}
  DEVICE: {{ .Values.processing.device | quote }}
